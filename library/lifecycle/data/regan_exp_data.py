# ~~~~~~~~~~~~~ EXP CONFIGURATIONS ~~~~~~~~~~~~~ #
from typing import Dict, AnyStr

from library.common.utils import AdvEnum


class REGAN_PROTOCOLS(AdvEnum):
    # set ECM=0 for 5 steps starting at step #45
    ECM_LOSS = {**{_i: {'CellDensity_High': 0, 'CellDensity_Low': 1, 'ECM': 1, 'Stiff_ECM': 1, 'GF': 1, 'GF_High': 0, 'Trail': 0} for _i in range(0, 50)},
                 **{_i: {'CellDensity_High': 0, 'CellDensity_Low': 1, 'ECM': 0, 'Stiff_ECM': 0, 'GF': 1, 'GF_High': 0, 'Trail': 0} for _i in range(50, 100)},
                 **{_i: {'CellDensity_High': 0, 'CellDensity_Low': 1, 'ECM': 1, 'Stiff_ECM': 1, 'GF': 1, 'GF_High': 0, 'Trail': 0} for _i in range(100, 200)}}
    # set Stiff_ECM=0 for 20 steps starting at step #30
    SOFT_ECM = dict((_i, {'Stiff_ECM': 0}) for _i in range(30, 51))

class REGAN_INIT_STATES(AdvEnum):
    QUIESCENT_1 = {
        'CellDensity_High':     0,
        'CellDensity_Low':      1,
        'ECM':                  1,
        'Stiff_ECM':            1,

        'GF':                   1,
        'GF_High':              0,

        'RTK':                  1,
        'Shc':                  0,
        'Grb2':                 0,
        'SOS':                  0,
        'Ras':                  0,
        'RAF':                  0,
        'MEK':                  0,
        'ERK':                  0,
        'mTORC2':               1,
        'PI3K':                 1,
        'PIP3':                 1,
        'PDK1':                 1,
        'AKT_B':                1,

        'p110_H':               1,
        'PI3K_H':               0,
        'AKT_H':                0,
        'FoxO3':                1,
        'PLCgamma':             0,
        'IP3':                  0,
        'Ca2p':                 0,
        'Nedd4L':               0,

        'FoxO1':                1,
        'p21_mRNA':             1,
        'TSC2':                 1,
        'PRAS40':               1,
        'DAG':                  0,
        'Rheb':                 0,
        'mTORC1':               0,
        'S6K':                  0,
        'eIF4E':                0,
        'GSK3':                 1,

        'Integrin':             1,
        'FAK':                  1,
        'Src':                  1,
        'Nectin3':              1,
        'Necl5':                1,
        'SPRY2':                0,
        'J_Ecadherin':          1,
        'J_bcatenin':           1,
        'J_acatenin':           1,

        'FocalAdhesions':       1,
        'Stress_Fibers':        1,
        'YAP':                  1,
        'TRIO':                 1,
        'WT1':                  1,
        'TAZ':                  1,
        'Ecadherin_mRNA_H':     0,
        'ApicalBasal_Pol':      0,
        'Mst1_2':               0,
        'Lats1_2':              0,
        'AMOT':                 0,

        'Merlin':               1,
        'IQGAP1_LeadingE':      0,
        'Horizontal_Pol':       0,
        'Rac1':                 0,
        'PAK1':                 0,
        'Fast_Migration':       0,

        'miR_29c':              1,
        'PTEN_c':               0,

        'p21':                  1,
        'pRB':                  1,
        'p27Kip1':              1,
        'Myc':                  0,
        'CyclinD1':             0,
        'E2F1':                 0,
        'CyclinE':              0,

        'ORC':                  0,
        'Cdc6':                 0,
        'Cdt1':                 0,
        'Pre_RC':               0,
        'geminin':              0,

        'CyclinA_mRNA':         0,
        'Emi1':                 0,
        'FoxM1':                0,
        'Cdc25A':               0,
        'CyclinA':              0,
        'Wee1':                 0,
        'UbcH10':               0,
        'CyclinB':              0,
        'Cdc25B':               0,
        'Plk1':                 0,
        'Cdc25C':               0,
        'Cdk1':                 0,
        'pAPC':                 0,
        'Cdc20':                0,
        'Cdh1':                 1,

        'Replication':          0,
        'ATR':                  0,
        'CHK1':                 0,
        'f4N_DNA':              0,
        'U_Kinetochores':       0,
        'Mad2':                 0,
        'A_Kinetochores':       0,
        'Plk1_H':               0,
        'Ect2':                 0,
        'Cytokinesis':          0,

        'Trail':                0,

        'DR4_5':                0,
        'Casp8':                0,
        'Casp2':                0,
        'MCL_1':                1,
        'BCLXL':                1,
        'BCL2':                 1,
        'BAD':                  0,
        'BIK':                  0,
        'BIM':                  0,
        'BID':                  0,
        'BAK':                  0,
        'BAX':                  0,
        'Cyto_C':               0,
        'SMAC':                 0,
        'IAPs':                 1,
        'Casp9':                0,
        'Casp3':                0,

        'CAD':                  0,

        'Apoptosis':            0
    }

    PROLIFERATING_1 = {
        'CellDensity_High':     0,
        'CellDensity_Low':      1,
        'ECM':                  1,
        'Stiff_ECM':            1,

        'GF':                   1,
        'GF_High':              1,

        'RTK':                  1,
        'Shc':                  1,
        'Grb2':                 1,
        'SOS':                  1,
        'Ras':                  1,
        'RAF':                  0,
        'MEK':                  0,
        'ERK':                  1,
        'mTORC2':               1,
        'PI3K':                 1,
        'PIP3':                 1,
        'PDK1':                 1,
        'AKT_B':                1,

        'p110_H':               0,
        'PI3K_H':               0,
        'AKT_H':                0,
        'FoxO3':                1,
        'PLCgamma':             0,
        'IP3':                  0,
        'Ca2p':                 0,
        'Nedd4L':               0,

        'FoxO1':                1,
        'p21_mRNA':             1,
        'TSC2':                 1,
        'PRAS40':               0,
        'DAG':                  0,
        'Rheb':                 0,
        'mTORC1':               1,
        'S6K':                  1,
        'eIF4E':                1,
        'GSK3':                 0,

        'Integrin':             1,
        'FAK':                  1,
        'Src':                  1,
        'Nectin3':              1,
        'Necl5':                1,
        'SPRY2':                0,
        'J_Ecadherin':          1,
        'J_bcatenin':           1,
        'J_acatenin':           1,

        'FocalAdhesions':       1,
        'Stress_Fibers':        1,
        'YAP':                  1,
        'TRIO':                 0,
        'WT1':                  0,
        'TAZ':                  1,
        'Ecadherin_mRNA_H':     1,
        'ApicalBasal_Pol':      0,
        'Mst1_2':               0,
        'Lats1_2':              0,
        'AMOT':                 0,

        'Merlin':               1,
        'IQGAP1_LeadingE':      1,
        'Horizontal_Pol':       0,
        'Rac1':                 0,
        'PAK1':                 0,
        'Fast_Migration':       0,

        'miR_29c':              0,
        'PTEN_c':               1,

        'p21':                  1,
        'pRB':                  0,
        'p27Kip1':              0,
        'Myc':                  1,
        'CyclinD1':             1,
        'E2F1':                 1,
        'CyclinE':              0,

        'ORC':                  1,
        'Cdc6':                 1,
        'Cdt1':                 1,
        'Pre_RC':               1,
        'geminin':              0,

        'CyclinA_mRNA':         1,
        'Emi1':                 1,
        'FoxM1':                0,
        'Cdc25A':               0,
        'CyclinA':              0,
        'Wee1':                 0,
        'UbcH10':               0,
        'CyclinB':              0,
        'Cdc25B':               0,
        'Plk1':                 0,
        'Cdc25C':               0,
        'Cdk1':                 0,
        'pAPC':                 0,
        'Cdc20':                0,
        'Cdh1':                 1,

        'Replication':          0,
        'ATR':                  0,
        'CHK1':                 0,
        'f4N_DNA':              0,
        'U_Kinetochores':       0,
        'Mad2':                 0,
        'A_Kinetochores':       0,
        'Plk1_H':               0,
        'Ect2':                 0,
        'Cytokinesis':          0,

        'Trail':                0,

        'DR4_5':                0,
        'Casp8':                0,
        'Casp2':                0,
        'MCL_1':                1,
        'BCLXL':                1,
        'BCL2':                 1,
        'BAD':                  0,
        'BIK':                  0,
        'BIM':                  0,
        'BID':                  0,
        'BAK':                  0,
        'BAX':                  0,
        'Cyto_C':               0,
        'SMAC':                 0,
        'IAPs':                 1,
        'Casp9':                0,
        'Casp3':                0,

        'CAD':                  0,

        'Apoptosis':            0
    }

    PROLIFERATING_2 = {
        'CellDensity_High':     0,
        'CellDensity_Low':      0,
        'ECM':                  1,
        'Stiff_ECM':            1,

        'GF':                   1,
        'GF_High':              1,

        'RTK':                  1,
        'Shc':                  1,
        'Grb2':                 1,
        'SOS':                  1,
        'Ras':                  1,
        'RAF':                  1,
        'MEK':                  1,
        'ERK':                  1,
        'mTORC2':               1,
        'PI3K':                 1,
        'PIP3':                 1,
        'PDK1':                 1,
        'AKT_B':                1,

        'p110_H':               0,
        'PI3K_H':               0,
        'AKT_H':                0,
        'FoxO3':                1,
        'PLCgamma':             0,
        'IP3':                  0,
        'Ca2p':                 0,
        'Nedd4L':               0,

        'FoxO1':                1,
        'p21_mRNA':             1,
        'TSC2':                 1,
        'PRAS40':               0,
        'DAG':                  0,
        'Rheb':                 0,
        'mTORC1':               1,
        'S6K':                  1,
        'eIF4E':                1,
        'GSK3':                 0,

        'Integrin':             1,
        'FAK':                  1,
        'Src':                  1,
        'Nectin3':              0,
        'Necl5':                1,
        'SPRY2':                0,
        'J_Ecadherin':          0,
        'J_bcatenin':           0,
        'J_acatenin':           0,

        'FocalAdhesions':       1,
        'Stress_Fibers':        1,
        'YAP':                  0,
        'TRIO':                 0,
        'WT1':                  0,
        'TAZ':                  0,
        'Ecadherin_mRNA_H':     1,
        'ApicalBasal_Pol':      0,
        'Mst1_2':               0,
        'Lats1_2':              0,
        'AMOT':                 0,

        'Merlin':               0,
        'IQGAP1_LeadingE':      1,
        'Horizontal_Pol':       0,
        'Rac1':                 0,
        'PAK1':                 0,
        'Fast_Migration':       0,

        'miR_29c':              0,
        'PTEN_c':               1,

        'p21':                  0,
        'pRB':                  0,
        'p27Kip1':              0,
        'Myc':                  1,
        'CyclinD1':             1,
        'E2F1':                 1,
        'CyclinE':              0,

        'ORC':                  1,
        'Cdc6':                 1,
        'Cdt1':                 1,
        'Pre_RC':               0,
        'geminin':              0,

        'CyclinA_mRNA':         1,
        'Emi1':                 1,
        'FoxM1':                0,
        'Cdc25A':               0,
        'CyclinA':              0,
        'Wee1':                 0,
        'UbcH10':               0,
        'CyclinB':              0,
        'Cdc25B':               0,
        'Plk1':                 0,
        'Cdc25C':               0,
        'Cdk1':                 0,
        'pAPC':                 0,
        'Cdc20':                0,
        'Cdh1':                 1,

        'Replication':          0,
        'ATR':                  0,
        'CHK1':                 0,
        'f4N_DNA':              1,
        'U_Kinetochores':       0,
        'Mad2':                 0,
        'A_Kinetochores':       0,
        'Plk1_H':               0,
        'Ect2':                 0,
        'Cytokinesis':          1,

        'Trail':                0,

        'DR4_5':                0,
        'Casp8':                0,
        'Casp2':                0,
        'MCL_1':                1,
        'BCLXL':                1,
        'BCL2':                 1,
        'BAD':                  0,
        'BIK':                  0,
        'BIM':                  0,
        'BID':                  0,
        'BAK':                  0,
        'BAX':                  0,
        'Cyto_C':               0,
        'SMAC':                 0,
        'IAPs':                 1,
        'Casp9':                0,
        'Casp3':                0,

        'CAD':                  0,

        'Apoptosis':            0
    }

class EXP(AdvEnum):
    init_state = 0
    protocol = 1

REGAN_EXP: Dict[str, Dict[EXP, Dict[AnyStr, int]]] = {
    'Regan_1_quiescent2anoikis': {EXP.init_state: REGAN_INIT_STATES.QUIESCENT_1.value, EXP.protocol: REGAN_PROTOCOLS.ECM_LOSS.value},
    'Regan_2_proliferation2anoikis': {EXP.init_state: REGAN_INIT_STATES.PROLIFERATING_1.value, EXP.protocol: REGAN_PROTOCOLS.ECM_LOSS.value},
    'Regan_3_proliferating2g1_arrest': {EXP.init_state: REGAN_INIT_STATES.PROLIFERATING_2.value, EXP.protocol: REGAN_PROTOCOLS.SOFT_ECM.value},
}